<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AI Prescription System - Doctor Portal</title>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css"
      rel="stylesheet"
    />
  </head>
  <link
  href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css"
  rel="stylesheet"
/>
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
/>
<link
  href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
  rel="stylesheet"
/>
<link rel="stylesheet" href="doctor.css">
  <body class="bg-gray-100">
    <!-- Header -->
    <header class="header">
      <div class="header-container">
        <div class="header-logo">
          <i class="fas fa-hospital"></i>
          <span>MedConnect</span>
        </div>
        <div class="header-actions">
          <span id="doctorName" class="text-gray-700 font-medium"></span>
          <button onclick="logout()">
            Logout
          </button>
        </div>
      </div>
    </header>

    <div class="flex">
      <!-- Sidebar -->
      <aside class="w-64 sidebar">
        <nav class="mt-8">
            <a id="dashboard-link" href="../doctor.html" class="nav-link flex items-center px-6 py-3 text-gray-300 hover:text-white hover:bg-blue-600/20 transition-colors">
                <i class="fas fa-home w-6"></i>
                <span class="ml-2">Dashboard</span>
            </a>
            <a id="prescriptions-link" href="prescription.html" class="nav-link flex items-center px-6 py-3 text-gray-300 hover:text-white hover:bg-blue-600/20 transition-colors">
                <i class="fas fa-file-medical w-6"></i>
                <span class="ml-2">Prescriptions</span>
            </a>
            <a id="appointments-link" href="appointment.html" class="nav-link flex items-center px-6 py-3 text-gray-300 hover:text-white hover:bg-blue-600/20 transition-colors">
                <i class="fas fa-clock w-6"></i>
                <span class="ml-2">Appointments</span>
            </a>
        </nav>
    </aside>

  

    <div class="max-w-6xl mx-auto p-6">
      <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
        <h2 class="text-2xl font-semibold mb-4">Pending Reviews</h2>
        <div id="pendingPrescriptionsList" class="space-y-4"></div>
      </div>

      <div class="bg-white rounded-lg shadow-lg p-6">
        <h2 class="text-2xl font-semibold mb-4">Review History</h2>
        <div id="reviewHistoryList" class="space-y-4"></div>
      </div>
    </div>
    <div
      id="reviewModal"
      class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-start justify-center p-4 overflow-y-auto"
    >
      <div
        class="bg-white rounded-lg p-6 max-w-3xl w-full max-h-[90vh] overflow-y-auto shadow-lg"
      >
      <div class="bg-white rounded-lg p-6 max-w-3xl w-full">
        <div class="flex justify-between items-center mb-4">
            <h3 class="text-xl font-semibold">Review Prescription</h3>
            <button onclick="closeReviewModal()" class="text-gray-500 hover:text-gray-700">âœ•</button>
        </div>

        <div id="prescriptionDetails" class="mb-6 space-y-4"></div>

        <form id="reviewForm" class="space-y-4">
            <input type="hidden" id="prescriptionId" />

            <div>
                <label class="block text-gray-700 mb-2">AI-Generated Prescription:</label>
                <div id="aiDiagnosis" class="p-4 bg-gray-100 border rounded text-gray-700"></div>
            </div>

            <div>
              <label class="block text-gray-700 mb-2">Prescribed Medications:</label>
              <div id="medicationsList" class="space-y-2"></div>
              <button type="button" onclick="addMedication()" class="mt-2 px-3 py-1 bg-green-500 text-white rounded hover:bg-green-600">Add Medication</button>
          </div>

            <div>
                <label class="block text-gray-700 mb-2">Doctor's Notes:</label>
                <textarea id="doctorNotes" rows="4" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:border-green-500" placeholder="Add your notes here..."></textarea>
            </div>

            <div class="flex justify-end space-x-4">
                <button type="button" onclick="rejectPrescription()" class="px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600">Reject</button>
                <button type="submit" class="px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600">Approve</button>
            </div>
        </form>
    </div>
      </div>
      
    </div>
  <script src="doctor.js">
    </script>
     <script defer>
      document.addEventListener("DOMContentLoaded", () => {
          // Get current page path
          const currentPath = window.location.pathname;

          // Remove 'active' class from all links
          document.querySelectorAll(".nav-link").forEach((link) => {
              link.classList.remove("active");
          });

          // Define the page-to-ID mapping
          const pageMap = {
              "doctor.html": "dashboard-link",
              "prescription.html": "prescriptions-link",
              "appointment.html": "appointments-link"
          };

          // Loop through the page map and apply the active class
          for (const page in pageMap) {
              if (currentPath.includes(page)) {
                  document.getElementById(pageMap[page]).classList.add("active");
              }
          }
      });
  </script>
  </body>
</html>